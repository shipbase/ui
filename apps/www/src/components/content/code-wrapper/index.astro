---
import { Code } from "astro/components"
import type { HTMLAttributes } from "astro/types"
import type { BuiltinLanguage } from "shiki"

import CodeWrapper from "./code-wrapper"

interface Props extends HTMLAttributes<"div"> {
  src?: string
  lang?: BuiltinLanguage
  className?: string
  collapsible?: boolean
  copy?: boolean
}

const { src, lang, className, ...props } = Astro.props
---

<CodeWrapper client:visible src={src} className={className} {...props}>
  <Code lang={lang || "plaintext"} theme="vesper" code={src || "Not found"} />
</CodeWrapper>
